{"ast":null,"code":"var inherits = require('inherits');\nvar EventEmitter = require('events').EventEmitter;\nmodule.exports = Queue;\nmodule.exports.default = Queue;\nfunction Queue(options) {\n  if (!(this instanceof Queue)) {\n    return new Queue(options);\n  }\n  EventEmitter.call(this);\n  options = options || {};\n  this.concurrency = options.concurrency || Infinity;\n  this.timeout = options.timeout || 0;\n  this.autostart = options.autostart || false;\n  this.results = options.results || null;\n  this.pending = 0;\n  this.session = 0;\n  this.running = false;\n  this.jobs = [];\n  this.timers = {};\n}\ninherits(Queue, EventEmitter);\nvar arrayMethods = ['pop', 'shift', 'indexOf', 'lastIndexOf'];\narrayMethods.forEach(function (method) {\n  Queue.prototype[method] = function () {\n    return Array.prototype[method].apply(this.jobs, arguments);\n  };\n});\nQueue.prototype.slice = function (begin, end) {\n  this.jobs = this.jobs.slice(begin, end);\n  return this;\n};\nQueue.prototype.reverse = function () {\n  this.jobs.reverse();\n  return this;\n};\nvar arrayAddMethods = ['push', 'unshift', 'splice'];\narrayAddMethods.forEach(function (method) {\n  Queue.prototype[method] = function () {\n    var methodResult = Array.prototype[method].apply(this.jobs, arguments);\n    if (this.autostart) {\n      this.start();\n    }\n    return methodResult;\n  };\n});\nObject.defineProperty(Queue.prototype, 'length', {\n  get: function () {\n    return this.pending + this.jobs.length;\n  }\n});\nQueue.prototype.start = function (cb) {\n  if (cb) {\n    callOnErrorOrEnd.call(this, cb);\n  }\n  this.running = true;\n  if (this.pending >= this.concurrency) {\n    return;\n  }\n  if (this.jobs.length === 0) {\n    if (this.pending === 0) {\n      done.call(this);\n    }\n    return;\n  }\n  var self = this;\n  var job = this.jobs.shift();\n  var once = true;\n  var session = this.session;\n  var timeoutId = null;\n  var didTimeout = false;\n  var resultIndex = null;\n  var timeout = job.hasOwnProperty('timeout') ? job.timeout : this.timeout;\n  function next(err, result) {\n    if (once && self.session === session) {\n      once = false;\n      self.pending--;\n      if (timeoutId !== null) {\n        delete self.timers[timeoutId];\n        clearTimeout(timeoutId);\n      }\n      if (err) {\n        self.emit('error', err, job);\n      } else if (didTimeout === false) {\n        if (resultIndex !== null) {\n          self.results[resultIndex] = Array.prototype.slice.call(arguments, 1);\n        }\n        self.emit('success', result, job);\n      }\n      if (self.session === session) {\n        if (self.pending === 0 && self.jobs.length === 0) {\n          done.call(self);\n        } else if (self.running) {\n          self.start();\n        }\n      }\n    }\n  }\n  if (timeout) {\n    timeoutId = setTimeout(function () {\n      didTimeout = true;\n      if (self.listeners('timeout').length > 0) {\n        self.emit('timeout', next, job);\n      } else {\n        next();\n      }\n    }, timeout);\n    this.timers[timeoutId] = timeoutId;\n  }\n  if (this.results) {\n    resultIndex = this.results.length;\n    this.results[resultIndex] = null;\n  }\n  this.pending++;\n  self.emit('start', job);\n  var promise = job(next);\n  if (promise && promise.then && typeof promise.then === 'function') {\n    promise.then(function (result) {\n      return next(null, result);\n    }).catch(function (err) {\n      return next(err || true);\n    });\n  }\n  if (this.running && this.jobs.length > 0) {\n    this.start();\n  }\n};\nQueue.prototype.stop = function () {\n  this.running = false;\n};\nQueue.prototype.end = function (err) {\n  clearTimers.call(this);\n  this.jobs.length = 0;\n  this.pending = 0;\n  done.call(this, err);\n};\nfunction clearTimers() {\n  for (var key in this.timers) {\n    var timeoutId = this.timers[key];\n    delete this.timers[key];\n    clearTimeout(timeoutId);\n  }\n}\nfunction callOnErrorOrEnd(cb) {\n  var self = this;\n  this.on('error', onerror);\n  this.on('end', onend);\n  function onerror(err) {\n    self.end(err);\n  }\n  function onend(err) {\n    self.removeListener('error', onerror);\n    self.removeListener('end', onend);\n    cb(err, this.results);\n  }\n}\nfunction done(err) {\n  this.session++;\n  this.running = false;\n  this.emit('end', err);\n}","map":{"version":3,"names":["inherits","require","EventEmitter","module","exports","Queue","default","options","call","concurrency","Infinity","timeout","autostart","results","pending","session","running","jobs","timers","arrayMethods","forEach","method","prototype","Array","apply","arguments","slice","begin","end","reverse","arrayAddMethods","methodResult","start","Object","defineProperty","get","length","cb","callOnErrorOrEnd","done","self","job","shift","once","timeoutId","didTimeout","resultIndex","hasOwnProperty","next","err","result","clearTimeout","emit","setTimeout","listeners","promise","then","catch","stop","clearTimers","key","on","onerror","onend","removeListener"],"sources":["C:/Users/Abdullah/Desktop/Project/TTP-Project/client/node_modules/queue/index.js"],"sourcesContent":["var inherits = require('inherits')\nvar EventEmitter = require('events').EventEmitter\n\nmodule.exports = Queue\nmodule.exports.default = Queue\n\nfunction Queue (options) {\n  if (!(this instanceof Queue)) {\n    return new Queue(options)\n  }\n\n  EventEmitter.call(this)\n  options = options || {}\n  this.concurrency = options.concurrency || Infinity\n  this.timeout = options.timeout || 0\n  this.autostart = options.autostart || false\n  this.results = options.results || null\n  this.pending = 0\n  this.session = 0\n  this.running = false\n  this.jobs = []\n  this.timers = {}\n}\ninherits(Queue, EventEmitter)\n\nvar arrayMethods = [\n  'pop',\n  'shift',\n  'indexOf',\n  'lastIndexOf'\n]\n\narrayMethods.forEach(function (method) {\n  Queue.prototype[method] = function () {\n    return Array.prototype[method].apply(this.jobs, arguments)\n  }\n})\n\nQueue.prototype.slice = function (begin, end) {\n  this.jobs = this.jobs.slice(begin, end)\n  return this\n}\n\nQueue.prototype.reverse = function () {\n  this.jobs.reverse()\n  return this\n}\n\nvar arrayAddMethods = [\n  'push',\n  'unshift',\n  'splice'\n]\n\narrayAddMethods.forEach(function (method) {\n  Queue.prototype[method] = function () {\n    var methodResult = Array.prototype[method].apply(this.jobs, arguments)\n    if (this.autostart) {\n      this.start()\n    }\n    return methodResult\n  }\n})\n\nObject.defineProperty(Queue.prototype, 'length', {\n  get: function () {\n    return this.pending + this.jobs.length\n  }\n})\n\nQueue.prototype.start = function (cb) {\n  if (cb) {\n    callOnErrorOrEnd.call(this, cb)\n  }\n\n  this.running = true\n\n  if (this.pending >= this.concurrency) {\n    return\n  }\n\n  if (this.jobs.length === 0) {\n    if (this.pending === 0) {\n      done.call(this)\n    }\n    return\n  }\n\n  var self = this\n  var job = this.jobs.shift()\n  var once = true\n  var session = this.session\n  var timeoutId = null\n  var didTimeout = false\n  var resultIndex = null\n  var timeout = job.hasOwnProperty('timeout') ? job.timeout : this.timeout\n\n  function next (err, result) {\n    if (once && self.session === session) {\n      once = false\n      self.pending--\n      if (timeoutId !== null) {\n        delete self.timers[timeoutId]\n        clearTimeout(timeoutId)\n      }\n\n      if (err) {\n        self.emit('error', err, job)\n      } else if (didTimeout === false) {\n        if (resultIndex !== null) {\n          self.results[resultIndex] = Array.prototype.slice.call(arguments, 1)\n        }\n        self.emit('success', result, job)\n      }\n\n      if (self.session === session) {\n        if (self.pending === 0 && self.jobs.length === 0) {\n          done.call(self)\n        } else if (self.running) {\n          self.start()\n        }\n      }\n    }\n  }\n\n  if (timeout) {\n    timeoutId = setTimeout(function () {\n      didTimeout = true\n      if (self.listeners('timeout').length > 0) {\n        self.emit('timeout', next, job)\n      } else {\n        next()\n      }\n    }, timeout)\n    this.timers[timeoutId] = timeoutId\n  }\n\n  if (this.results) {\n    resultIndex = this.results.length\n    this.results[resultIndex] = null\n  }\n\n  this.pending++\n  self.emit('start', job)\n  var promise = job(next)\n  if (promise && promise.then && typeof promise.then === 'function') {\n    promise.then(function (result) {\n      return next(null, result)\n    }).catch(function (err) {\n      return next(err || true)\n    })\n  }\n\n  if (this.running && this.jobs.length > 0) {\n    this.start()\n  }\n}\n\nQueue.prototype.stop = function () {\n  this.running = false\n}\n\nQueue.prototype.end = function (err) {\n  clearTimers.call(this)\n  this.jobs.length = 0\n  this.pending = 0\n  done.call(this, err)\n}\n\nfunction clearTimers () {\n  for (var key in this.timers) {\n    var timeoutId = this.timers[key]\n    delete this.timers[key]\n    clearTimeout(timeoutId)\n  }\n}\n\nfunction callOnErrorOrEnd (cb) {\n  var self = this\n  this.on('error', onerror)\n  this.on('end', onend)\n\n  function onerror (err) { self.end(err) }\n  function onend (err) {\n    self.removeListener('error', onerror)\n    self.removeListener('end', onend)\n    cb(err, this.results)\n  }\n}\n\nfunction done (err) {\n  this.session++\n  this.running = false\n  this.emit('end', err)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}